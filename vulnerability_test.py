"""

author: chris kopec

date: 7/22/21

description: this program creates subdirectories until size of parent directory is 1GB

"""

 

import os

 

size = 0

folderPath = '/storage/home/ckopec1'

directory = 'dir1'

parentDirectory = '/storage/home/ckopec1'

fileName = 'my_file'

path = parentDirectory

 

counter = 0

for path, dirs, files in os.walk(folderPath):

    for f in files:

        fp = os.path.join(path, f)

        size += os.stat(fp).st_size

 

while size < 1000000000:

        print("Folder size: " + str(size))

        path = parentDirectory + "/" + directory

        os.mkdir(path)

        print("Directory ' % s' created" % path)

        fileName = 'my_file'

        fileName = path + "/" + fileName

        with open(fileName, 'wb') as f:

            num_chars = 1024 * 1024

            f.write('0' * num_chars)

            print("File ' % s' created" % fileName)

        fileName = fileName + str(counter)

        counter = counter + 1

        parentDirectory = parentDirectory + "/" + directory

        directory = directory + str(counter)

        for path, dirs, files in os.walk(folderPath):

            for f in files:

                fp = os.path.join(path, f)

                size += os.stat(fp).st_size

 

        """

        for path, dirs, files in os.walk(folderPath):

            for f in files:

                fp = os.path.join(folderPath, f)

                size += os.stat(fp).st_size

        """

 

        """    

    for path, dirs, files in os.walk(path):

        for f in files:

            fp = os.path.join(path, f)

            size += os.path.getsize(fp)

            print("Directory size: " + str(size))

"""

 

 

 

 

 

 

"""

import subprocess

def du(path):

 

    return subprocess.check_output(['du','-sh', path]).split()[0].decode('utf-8')

 

if __name__ == "__main__":

    print(du('.'))

"""

"""

counter = 0

for path, dirs, files in os.walk(folderPath):

    for f in files:

        fp = os.path.join(path, f)

        size += os.path.getsize(fp)

        print("Folder size: " + str(size))

        while size < 10:

            print("Folder size: " + str(size))

            path = os.path.join(parentDirectory, directory)

            os.mkdir(path)

            print("Directory ' % s' created" % directory)

            counter = counter + 1

            directory = directory + str(counter)

"""

"""

path = os.path.join(parentDirectory, directory)

os.mkdir(path)

print("Directory ' % s' created" % directory)

 

counter = 0

#while size < 10:

#   print("Folder size: " + str(size))

#    print("Creating dir until size = 1GB")

#    counter = counter + 1

"""
